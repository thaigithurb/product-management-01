extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/select-tree.pug

block main 

    +alert-error('1000')

    h1(class="mb-[4px]") Chỉnh sửa sản phẩm

    form(action=`${prefixAdmin}/products/edit/${product.id}?_method=PATCH` id="edit-product-form" enctype="multipart/form-data" method="POST") 
        div(class="mt-[15px]") 
            label(for="title") Tiêu đề
            input(
                type="text"
                class="p-[15px] w-full mt-[5px] outline-none border rounded-[8px]"
                id="title"
                name="title"
                value=product.title
            )
        div(class="mt-[15px]") 
            label(for="product_category_id") Danh mục
            select(name="product_category_id" id="product_category_id" class="w-full p-[15px] mt-[5px] rounded-[8px]")
                option(value="") -- Chọn danh mục --
                if (category) 
                    +select-tree(category, 1, product.product_category_id)
        div(class="mt-[15px]") 
            label(for="desc") Mô tả
            textarea(
                rows="5"
                id="desc"
                name="description"
                class="w-full outline-none p-[15px] mt-[5px] textarea-mce"
                value=product.description
            ) #{product.description}
        div(class="mt-[15px]") 
            label(for="price") Giá
            input(
                type="number"
                class="p-[15px] w-full mt-[5px] outline-none border rounded-[8px]"
                id="price"
                name="price"
                value=product.price
                min="0"
                
            )
        div(class="mt-[15px]") 
            label(for="discount") Giảm giá (%)
            input(
                type="number"
                class="p-[15px] w-full mt-[5px] outline-none border rounded-[8px]"
                id="discount"
                name="discountPercentage"
                value=product.discountPercentage
                min="0" 
                
            )
        div(class="mt-[15px]") 
            label(for="stock") Số lượng
            input(
                type="number"
                class="p-[15px] w-full mt-[5px] outline-none border rounded-[8px]"
                id="stock"
                name="stock"
                value=product.stock
                min="0" 
                
            )
        div(class="mt-[15px]") 
            label(for="thumbnail") Ảnh
            div(class=" p-[15px] mt-[5px] outline-none overflow-hidden border rounded-[8px]")
                input(
                    type="file"
                    class="w-full"
                    id="thumbnail"
                    name="thumbnail"
                    accept="image/*"
                )
                img(id="blah" src=product.thumbnail alt="your image" class="w-[500px] object-cover mt-[5px] border rounded-[8px] w-[100px]")
        div(class="mt-[15px]") 
            label(for="position") Vị trí
            input(
                type="number"
                class="p-[15px] w-full mt-[5px] outline-none border rounded-[8px]"
                id="position"
                name="position"
                value=product.position
                min="0" 
                placeholder="Tự động tăng"
                
            )
        div(class="mt-[15px] flex items-center gap-[15px]") 
            div 
                input(
                    type="radio"
                    id="statusActive"
                    name="status"
                    value="active"
                    checked=(product.status == "active" ? true : false)
                )
                label(for="statusActive") Hoạt động
            div 
                input(
                    type="radio"
                    id="statusInactive"
                    name="status"
                    value="inactive"
                    checked=(product.status == "inactive" ? true : false)
                )
                label(for="statusInactive") Dừng hoạt động
        div(class="mt-[20px]") 
            button(
                type="submit"
                class="p-[15px] text-[18px] rounded-[8px] bg-[#0071E1] hover:bg-[#0066CC] border-none text-[#ffff] cursor-pointer"
            ) Cập nhật

                    

    script(src="/admin/js/product.js")  
    script(src="/admin/js/script.js")  
       

    


